(this.webpackJsonptest_app=this.webpackJsonptest_app||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),c=n(11),i=n.n(c),o=(n(20),n(5)),l=n(6),s=n(2),p=n(1),j=(n(21),n(4)),b=n(9),u=n.n(b),d=Object(j.b)({key:"currentPlayersListState",default:[]}),y=Object(j.b)({key:"currentPlayerState",default:""}),m=Object(j.b)({key:"currentDiceState",default:{num:0,isLocked:!1,lastRolledBy:null}}),O=Object(j.b)({key:"allCoinState",default:{palegreen:{p0:{position:"home",isTurnAvailable:!0},p1:{position:"home",isTurnAvailable:!0},p2:{position:"home",isTurnAvailable:!0},p3:{position:"home",isTurnAvailable:!0}},yellow:{y0:{position:"home",isTurnAvailable:!0},y1:{position:"home",isTurnAvailable:!0},y2:{position:"home",isTurnAvailable:!0},y3:{position:"home",isTurnAvailable:!0}},royalblue:{r0:{position:"home",isTurnAvailable:!0},r1:{position:"home",isTurnAvailable:!0},r2:{position:"home",isTurnAvailable:!0},r3:{position:"home",isTurnAvailable:!0}},tomato:{t0:{position:"home",isTurnAvailable:!0},t1:{position:"home",isTurnAvailable:!0},t2:{position:"home",isTurnAvailable:!0},t3:{position:"home",isTurnAvailable:!0}}}}),h=Object(j.b)({key:"allBlockState",default:{}}),v=n.p+"static/media/diceRoll2.55ad9bac.mp3",x=n(0);var f=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],c=Object(j.c)(m),i=Object(p.a)(c,2),o=i[0],l=i[1],s=Object(j.d)(y);return Object(x.jsx)("div",{className:"dice"+(n?" dice-animation":""),onClick:function(){n||o.isLocked||(l({num:0,isLocked:!1,lastRolledBy:s}),a(!0),new Audio(v).play(),setTimeout((function(){l({num:Math.ceil(6*Math.random()),isLocked:!0,lastRolledBy:s}),a(!1)}),1e3))},style:{gridTemplateColumns:o.num>1?"repeat(2, 1fr)":"1fr"},children:Array(o.num).fill().map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{style:{backgroundColor:s}})},t)}))})},g={p:"palegreen",y:"yellow",r:"royalblue",t:"tomato"},T=["palegreen","yellow","royalblue","tomato"],w={leftOrTop:{openIndex:"12",markIndex:["11","12","21","31","41","51"]},rightOrBottom:{openIndex:"40",markIndex:["01","11","21","31","40","41"]}},A={leftOrTop:{markIndex:["12","20"]},rightOrBottom:{markIndex:["32","40"]}},k=["p32","p40","y20","y12","r20","r12","t32","t40"],N={tomato:"t40",palegreen:"p40",yellow:"y12",royalblue:"r12"},B={palegreen:["p40","p30","p20","p10","p00","y50","y40","y30","y20","y10","y00","y01","y02","y12","y22","y32","y42","y52","r50","r40","r30","r20","r10","r00","r01","r02","r12","r22","r32","r42","r52","t02","t12","t22","t32","t42","t52","t51","t50","t40","t30","t20","t10","t00","p02","p12","p22","p32","p42","p52","p51","p41","p31","p21","p11","p01","p-won"],yellow:["y12","y22","y32","y42","y52","r50","r40","r30","r20","r10","r00","r01","r02","r12","r22","r32","r42","r52","t02","t12","t22","t32","t42","t52","t51","t50","t40","t30","t20","t10","t00","p02","p12","p22","p32","p42","p52","p51","p50","p40","p30","p20","p10","p00","y50","y40","y30","y20","y10","y00","y01","y11","y21","y31","y41","y51","y-won"],royalblue:["r12","r22","r32","r42","r52","t02","t12","t22","t32","t42","t52","t51","t50","t40","t30","t20","t10","t00","p02","p12","p22","p32","p42","p52","p51","p50","p40","p30","p20","p10","p00","y50","y40","y30","y20","y10","y00","y01","y02","y12","y22","y32","y42","y52","r50","r40","r30","r20","r10","r00","r01","r11","r21","r31","r41","r51","r-won"],tomato:["t40","t30","t20","t10","t00","p02","p12","p22","p32","p42","p52","p51","p50","p40","p30","p20","p10","p00","y50","y40","y30","y20","y10","y00","y01","y02","y12","y22","y32","y42","y52","r50","r40","r30","r20","r10","r00","r01","r02","r12","r22","r32","r42","r52","t02","t12","t22","t32","t42","t52","t51","t41","t31","t21","t11","t01","t-won"]},C=n.p+"static/media/coinPalegreen.5eb344c3.svg",S=n.p+"static/media/coinYellow.8f66742b.svg",D=n.p+"static/media/coinTomato.198e3c8a.svg",I=n.p+"static/media/coinRoyalblue.c04c7385.svg",R=n.p+"static/media/coinMove.c8776b00.mp3",L={palegreen:C,yellow:S,tomato:D,royalblue:I};var M=function(e){var t=e.parent,n=e.index,a=e.className,c=Object(j.c)(y),i=Object(p.a)(c,2),b=i[0],v=i[1],f=Object(j.c)(O),T=Object(p.a)(f,2),w=T[0],A=T[1],C=Object(j.c)(h),S=Object(p.a)(C,2),D=S[0],I=S[1],M=Object(j.c)(m),P=Object(p.a)(M,2),E=P[0],F=P[1],W=Object(j.d)(d),z=w[t][n],J=z.position,_=z.isTurnAvailable,U=["home","won"].every((function(e){return!J.includes(e)})),Y=B[t],q=U?E.num&&Y.indexOf(J)+E.num<Y.length?Y[Y.indexOf(J)+E.num]:null:"home"===J?N[t]:"",G=b===t&&q?_?U||6===E.num?" current-player-animation":"":U&&E.num?" current-player-animation":"":"";Object(r.useEffect)((function(){var e=w[t];if(E.num&&b===t){var n=u.a.cloneDeep(e),r=0;Object.keys(n).forEach((function(e){var t=n[e].position;"home"===t&&6===E.num||["home","won"].every((function(e){return!t.includes(e)}))&&Y.indexOf(t)+E.num<Y.length?(console.log({position:t}),n[e].isTurnAvailable=!0,r++):n[e].isTurnAvailable=!1})),console.log({moveAvailCount:r}),A(Object(s.a)(Object(s.a)({},w),{},Object(l.a)({},t,n))),!r&&H()}}),[E.num]);var H=function(){var e=W.indexOf(b),t=-1!==e&&W[e+1]?W[e+1]:W[0];setTimeout((function(){F({num:0,isLocked:!1,lastRolledBy:b}),v(t)}),500)};return Object(x.jsx)("div",{className:"coin"+G,onClick:function(){if(t===b&&E.num&&G){new Audio(R).play();var e=u.a.cloneDeep(Object(s.a)(Object(s.a)({},w[t]),{},Object(l.a)({},n,{position:q,isTurnAvailable:!1}))),r=u.a.cloneDeep(D);U&&r[J].splice(r[J].indexOf(n),1),r[q]=Object(o.a)(new Set([].concat(Object(o.a)(D[q]||[]),[n]))),function(e,t,n,r){A(t),I(n),t=u.a.cloneDeep(t);var a=[],c=[],i=!1,p=n[e];!k.includes(e)&&p.length>1&&(p.forEach((function(e){a.every((function(t){return t.startsWith(e[0])}))?a.push(e):(c.push.apply(c,Object(o.a)(a)),a=[e])})),c.length&&c.forEach((function(e){t[g[e[0]]][e].position="home"})),i=!0),i&&(A(t),I(Object(s.a)(Object(s.a)({},n),{},Object(l.a)({},e,Object(o.a)(new Set(a)))))),r(!!c.length)}(q,Object(s.a)(Object(s.a)({},w),{},Object(l.a)({},t,e)),r,(function(e){!e&&!q.includes("won")&&6!==E.num&&H(),F({num:0,isLocked:!1,lastRolledBy:b})}))}},children:Object(x.jsx)("img",{src:L[t],className:a})})};function P(e){var t=e.parent,n=e.style,r=Object(j.d)(h),a="".concat(t[0],"-won");return Object(x.jsx)("div",{className:"homeCenterCoin",style:n,children:r&&r[a]&&r[a].map((function(e,n){return Object(x.jsx)(M,{parent:t,index:e,className:"haveWon"},n)}))})}var E=function(){return Object(x.jsxs)("div",{className:"homeCenter",children:[Object(x.jsx)("div",{children:Object(x.jsx)(P,{parent:"yellow"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(P,{parent:"palegreen",style:{transform:"rotate(90deg)"}}),Object(x.jsx)(f,{}),Object(x.jsx)(P,{parent:"royalblue",style:{transform:"rotate(90deg)"}})]}),Object(x.jsx)("div",{children:Object(x.jsx)(P,{parent:"tomato"})})]})},F=n.p+"static/media/starOutline3.638b0c2b.png";var W=function(e){var t=e.parent,n=e.adjacentDirection,r=e.index,a=Object(j.d)(h),c=t[0]+r,i={backgroundImage:A[n].markIndex.includes(r)?"url(".concat(F,")"):"",backgroundColor:w[n].markIndex.includes(r)?t:"transparent"};return Object(x.jsxs)("div",{className:"stepBox",style:i,children:[Object(x.jsx)("div",{style:{position:"absolute"},children:t[0]+r}),a[c]&&a[c].map((function(e,t){return Object(x.jsx)(M,{parent:g[e[0]],index:e},t)}))]})};var z=function(e){var t=e.style,n=e.parent,r=e.adjacentDirection;return Object(x.jsx)("div",{style:t,children:Array(6).fill().map((function(e,t){return Object(x.jsx)("div",{className:"stepRow",children:Array(3).fill().map((function(e,a){return Object(x.jsx)(W,{index:t+""+a,parent:n,adjacentDirection:r},t+""+a)}))},t)}))})};var J=function(e){var t=e.parent,n=Object(j.d)(O),r=Object(j.d)(y),a=Object(j.d)(d);return Object(x.jsxs)("div",{className:"homeBox",children:[r===t&&Object(x.jsx)("div",{className:"homeBoxOverlay"}),Array(4).fill().map((function(e,r){return Object(x.jsx)("div",{className:"homeBoxInner",style:{border:"20px solid ".concat(t)},children:a.includes(t)&&"home"===n[t][t[0]+r].position&&Object(x.jsx)(M,{parent:t,index:t[0]+r})},r)}))]})};function _(e){var t=e.count,n=e.setTransClass,r=Object(j.c)(y)[1],a=Object(j.c)(d)[1],c=Object(j.e)(h),i=Object(j.e)(O),l=Object(j.e)(m);return Object(x.jsx)("div",{className:"gameSetupPlayerSelectBtn",onClick:function(){var e=Math.floor(2*Math.random()),s=2===t?[T[e],T[e+2]]:3===t?T.slice(e,e+3):Object(o.a)(T);c(),i(),l(),a(Object(o.a)(s)),r(s[0]),n(" scaleDown")},children:t})}var U=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(x.jsxs)("div",{className:"gameSetup"+n,children:[Object(x.jsx)("h1",{style:{color:"white",fontSize:20},children:"Welcome to LUDO"}),Object(x.jsx)("h1",{style:{color:"white",fontSize:20},children:"Choose players"}),Object(x.jsx)("div",{children:[2,3,4].map((function(e){return Object(x.jsx)(_,{count:e,setTransClass:function(e){return a(e)}},e)}))})]})};var Y=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(U,{}),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("div",{className:"boardWrapper",children:[Object(x.jsxs)("div",{className:"innerRow",children:[Object(x.jsx)(J,{parent:"palegreen"}),Object(x.jsx)(z,{parent:"yellow",adjacentDirection:"leftOrTop"}),Object(x.jsx)(J,{parent:"yellow"})]}),Object(x.jsxs)("div",{className:"innerRow",children:[Object(x.jsx)(z,{style:{transform:"rotate(90deg)"},parent:"palegreen",adjacentDirection:"rightOrBottom"}),Object(x.jsx)(E,{}),Object(x.jsx)(z,{style:{transform:"rotate(90deg)"},parent:"royalblue",adjacentDirection:"leftOrTop"})]}),Object(x.jsxs)("div",{className:"innerRow",children:[Object(x.jsx)(J,{parent:"tomato"}),Object(x.jsx)(z,{parent:"tomato",adjacentDirection:"rightOrBottom"}),Object(x.jsx)(J,{parent:"royalblue"})]})]}),Object(x.jsx)("br",{}),!1]})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(j.a,{children:Object(x.jsx)(Y,{})})}),document.getElementById("root")),q()}},[[26,1,2]]]);
//# sourceMappingURL=main.c609e3fc.chunk.js.map